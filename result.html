<!DOCTYPE html>
<html lang="en" class=""> <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Exam Result Portal</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <script src="https://unpkg.com/jspdf-svg@latest/dist/jspdf.plugin.svg.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcode-generator/1.4.4/qrcode.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        /* Using a custom font from Google Fonts */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* light mode bg */
        }
        .dark body {
            background-color: #111827; /* dark mode bg */
        }
        /* Custom transition for smoother UI changes */
        .transition-all {
            transition: all 0.3s ease-in-out;
        }
        /* Hide scrollbar for aesthetics but allow scrolling */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        /* Style for the results table */
        .result-table th, .result-table td {
            @apply px-4 py-2 text-left text-sm;
        }
        .result-table thead th {
            @apply font-semibold bg-gray-100 dark:bg-gray-700;
        }
        .result-table tbody tr:nth-child(even) {
            @apply bg-gray-50 dark:bg-gray-800/50;
        }
    </style>
</head>
<body class="transition-all">

    <button id="theme-toggle" type="button" class="fixed top-4 right-4 text-gray-500 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-2.5 z-50">
        <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8 0 1010.586 10.586z"></path></svg>
        <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path></svg>
    </button>

    <div class="w-full max-w-2xl mx-auto min-h-screen flex flex-col justify-center p-4">
        <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden">
            <div class="p-6 bg-blue-600 dark:bg-blue-800 text-white text-center">
                <div class="flex justify-center items-center gap-3">
                    <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.902 59.902 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5" /></svg>
                    <h1 class="text-2xl font-bold">Exam Result Portal</h1>
                </div>
                <p class="text-blue-200 dark:text-blue-300 mt-1">Check your full internal assessment marksheet</p>
            </div>

            <div class="p-6 md:p-8 space-y-4">
                <div>
                    <label for="roll" class="text-sm font-medium text-gray-700 dark:text-gray-300">Enter Your Roll Number</label>
                    <input type="text" id="roll" placeholder="e.g., 21CS001" class="mt-1 block w-full px-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                <button onclick="fetchResult()" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:focus:ring-offset-gray-800">
                    Get Full Marksheet
                </button>
            </div>

            <div id="resultContainer" class="p-6 md:p-8 border-t border-gray-200 dark:border-gray-700"></div>
        </div>
        <footer class="text-center mt-6 text-sm text-gray-500 dark:text-gray-400">
            <p>&copy; 2025 University Portal. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
        // Store student results and full dataset globally
        let currentStudentResults = [];
        let allStudentData = [];
        const sheetURL = "https://opensheet.elk.sh/1Sfrx9iH5b1-CipMJIQZJ8z61P1PUlgDPrSypfwY6aew/Sheet1";

        // --- ON PAGE LOAD ---
        document.addEventListener('DOMContentLoaded', () => {
            initializeTheme();
            fetchDataOnLoad();
        });

        // --- FEATURE: Dark Mode Toggle ---
        function initializeTheme() {
            const themeToggleBtn = document.getElementById('theme-toggle');
            const themeToggleDarkIcon = document.getElementById('theme-toggle-dark-icon');
            const themeToggleLightIcon = document.getElementById('theme-toggle-light-icon');

            if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
                themeToggleLightIcon.classList.remove('hidden');
            } else {
                document.documentElement.classList.remove('dark');
                themeToggleDarkIcon.classList.remove('hidden');
            }

            themeToggleBtn.addEventListener('click', () => {
                themeToggleDarkIcon.classList.toggle('hidden');
                themeToggleLightIcon.classList.toggle('hidden');
                document.documentElement.classList.toggle('dark');
                if (document.documentElement.classList.contains('dark')) {
                    localStorage.setItem('color-theme', 'dark');
                } else {
                    localStorage.setItem('color-theme', 'light');
                }
            });
        }

        // --- FEATURE: Fetch all data on page load ---
        async function fetchDataOnLoad() {
            try {
                const res = await fetch(sheetURL);
                if (!res.ok) throw new Error("Network response was not ok");
                allStudentData = await res.json();
                 // Show a ready message in console or a subtle UI indicator if needed
                console.log("Student data loaded successfully.");
            } catch (error) {
                console.error("Failed to load data:", error);
                displayMessage('❗', 'Initialization Error', 'Could not load data from the server. Please refresh the page.', 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200');
            }
        }

        // --- Main Result Fetch Logic ---
        function fetchResult() {
            const roll = document.getElementById("roll").value.trim();
            if (!roll) {
                displayMessage('⚠️', 'Input Required', 'Please enter your Roll Number.', 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200');
                return;
            }

            displayLoader();
            
            // Use the pre-fetched data to find all matching records
            const results = allStudentData.filter(row =>
                row["Roll Number"]?.trim().toLowerCase() === roll.toLowerCase()
            );

            setTimeout(() => {
                if (results.length > 0) {
                    // MODIFIED: Check if all found subjects have valid, numeric marks
                    const allMarksDeclared = results.every(subject => 
                        subject.Marks && subject.Marks.trim() !== '' && !isNaN(parseInt(subject.Marks.trim(), 10))
                    );

                    if (allMarksDeclared) {
                        currentStudentResults = results;
                        displayFullMarksheet(results);
                    } else {
                        // MODIFIED: Show "result not declared" message if any mark is missing
                        displayMessage('ℹ️', 'Result Not Declared Yet', 'The result for this Roll Number is not yet fully declared. Please check back later.', 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200');
                    }
                } else {
                    displayMessage('❌', 'Not Found', 'We couldn\'t find any results for the provided Roll Number. Please double-check and try again.', 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200');
                }
            }, 500);
        }

        // --- Display Full Marksheet UI ---
        function displayFullMarksheet(results) {
            const resultContainer = document.getElementById("resultContainer");
            const studentInfo = results[0]; // All rows will have the same name/roll

            let totalMarks = 0;
            let maxMarks = 0;
            const tableRows = results.map(subject => {
                const marks = parseInt(subject["Marks"]?.trim(), 10);
                const { grade, remark, color } = getGradeAndRemark(marks);
                if(!isNaN(marks)) {
                    totalMarks += marks;
                    maxMarks += 100;
                }
                return `
                    <tr class="border-b dark:border-gray-700">
                        <td class="py-3 px-4 font-medium text-gray-900 dark:text-white">${subject.Subject}</td>
                        <td class="py-3 px-4">${isNaN(marks) ? "N/A" : marks}</td>
                        <td class="py-3 px-4"><span class="px-2 py-1 text-xs font-semibold rounded-full ${color.bg} ${color.text}">${grade}</span></td>
                        <td class="py-3 px-4">${remark}</td>
                    </tr>
                `;
            }).join('');

            const percentage = maxMarks > 0 ? ((totalMarks / maxMarks) * 100).toFixed(2) : 0;
            const overallResult = percentage >= 50 ? 
                { text: 'PASS', color: 'text-green-500' } : 
                { text: 'FAIL', color: 'text-red-500' };

            resultContainer.innerHTML = `
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">Provisional Marksheet</h3>
                <div class="flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-lg mb-4">
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-300">Name</p>
                        <p class="font-bold text-lg text-gray-900 dark:text-white">${studentInfo.Name}</p>
                    </div>
                    <div>
                        <p class="text-sm text-gray-600 dark:text-gray-300">Roll Number</p>
                        <p class="font-mono bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded">${studentInfo["Roll Number"]}</p>
                    </div>
                </div>
                
                <div class="overflow-x-auto rounded-lg border dark:border-gray-700">
                    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400 result-table">
                        <thead class="text-xs text-gray-700 uppercase dark:text-gray-400 bg-gray-100 dark:bg-gray-700">
                            <tr>
                                <th scope="col" class="py-3 px-4">Subject</th>
                                <th scope="col" class="py-3 px-4">Marks</th>
                                <th scope="col" class="py-3 px-4">Grade</th>
                                <th scope="col" class="py-3 px-4">Remark</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                </div>

                <div class="mt-4 p-4 bg-blue-50 dark:bg-blue-900/50 rounded-lg flex justify-around items-center text-center">
                    <div>
                        <p class="text-sm text-blue-800 dark:text-blue-200 font-semibold">TOTAL MARKS</p>
                        <p class="text-2xl font-bold text-blue-900 dark:text-blue-100">${totalMarks} / ${maxMarks}</p>
                    </div>
                     <div>
                        <p class="text-sm text-blue-800 dark:text-blue-200 font-semibold">PERCENTAGE</p>
                        <p class="text-2xl font-bold text-blue-900 dark:text-blue-100">${percentage}%</p>
                    </div>
                    <div>
                        <p class="text-sm text-blue-800 dark:text-blue-200 font-semibold">OVERALL RESULT</p>
                        <p class="text-2xl font-bold ${overallResult.color}">${overallResult.text}</p>
                    </div>
                </div>

                <div class="mt-6 flex flex-col sm:flex-row gap-3">
                    <button onclick="downloadFullMarksheetPDF()" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-all flex items-center justify-center gap-2"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" /></svg>Download Marksheet</button>
                    <button onclick="clearForm()" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg transition-all">Check Another</button>
                </div>
            `;
        }
        
        // --- UI & Utility Helpers ---
        function getGradeAndRemark(marks) {
            if (isNaN(marks)) return { grade: 'N/A', remark: 'Not Declared', color: { bg: 'bg-gray-100 dark:bg-gray-700', text: 'text-gray-800 dark:text-gray-200' } };
            if (marks >= 90) return { grade: 'A+', remark: 'Outstanding', color: { bg: 'bg-green-100 dark:bg-green-900/50', text: 'text-green-800 dark:text-green-200' } };
            if (marks >= 80) return { grade: 'A', remark: 'Excellent', color: { bg: 'bg-green-100 dark:bg-green-900/50', text: 'text-green-800 dark:text-green-200' } };
            if (marks >= 70) return { grade: 'B', remark: 'Good', color: { bg: 'bg-blue-100 dark:bg-blue-900/50', text: 'text-blue-800 dark:text-blue-200' } };
            if (marks >= 60) return { grade: 'C', remark: 'Satisfactory', color: { bg: 'bg-yellow-100 dark:bg-yellow-900/50', text: 'text-yellow-800 dark:text-yellow-200' } };
            if (marks >= 50) return { grade: 'D', remark: 'Pass', color: { bg: 'bg-orange-100 dark:bg-orange-900/50', text: 'text-orange-800 dark:text-orange-200' } };
            return { grade: 'F', remark: 'Fail', color: { bg: 'bg-red-100 dark:bg-red-900/50', text: 'text-red-800 dark:text-red-200' } };
        }

        // --- FEATURE-RICH PDF DOWNLOAD for Full Marksheet ---
        function downloadFullMarksheetPDF() {
            if (currentStudentResults.length === 0) { 
                displayMessage('!', 'Error', 'No result data to download!', 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200');
                return; 
            }

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const pageWidth = doc.internal.pageSize.getWidth();
            const margin = 10;
            const studentInfo = currentStudentResults[0];

            // --- Page Border, Watermark, Header (same as before) ---
            doc.setDrawColor(0, 32, 74);
            doc.setLineWidth(1);
            doc.rect(margin, margin, pageWidth - (2 * margin), doc.internal.pageSize.getHeight() - (2 * margin));
            doc.setFontSize(72);
            doc.setTextColor(230, 230, 230);
            doc.setFont("helvetica", "bold");
            doc.text("CONFIDENTIAL", pageWidth / 2, doc.internal.pageSize.getHeight() / 2, { angle: +15, align: 'center' });

            const startX = margin + 5;
            let startY = margin + 10;
            const logoSvg = `<svg width="100" height="100" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 12.75C12.4142 12.75 12.75 12.4142 12.75 12V3.75C12.75 3.33579 12.4142 3 12 3C11.5858 3 11.25 3.33579 11.25 3.75V12C11.25 12.4142 11.5858 12.75 12 12.75Z" fill="#0c4a6e"/><path d="M16.2019 14.5048C16.59 14.2141 17.1355 14.2889 17.4262 14.6778L20.5338 18.8907C20.8245 19.2796 20.7497 19.8251 20.3608 20.1158C19.9719 20.4065 19.4264 20.3317 19.1357 19.9428L16.0281 15.7299C15.7374 15.341 15.8121 14.7955 16.2019 14.5048Z" fill="#0c4a6e"/><path d="M7.79812 14.5048C7.41001 14.2141 6.86447 14.2889 6.57379 14.6778L3.46621 18.8907C3.17553 19.2796 3.25034 19.8251 3.63923 20.1158C4.02812 20.4065 4.57366 20.3317 4.86434 19.9428L7.97192 15.7299C8.26260 15.341 8.18789 14.7955 7.79812 14.5048Z" fill="#0c4a6e"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 21.75C17.3848 21.75 21.75 17.3848 21.75 12C21.75 6.61522 17.3848 2.25 12 2.25C6.61522 2.25 2.25 6.61522 2.25 12C2.25 17.3848 6.61522 21.75 12 21.75ZM12 20.25C16.5563 20.25 20.25 16.5563 20.25 12C20.25 7.44365 16.5563 3.75 12 3.75C7.44365 3.75 3.75 7.44365 3.75 12C3.75 16.5563 7.44365 20.25 12 20.25Z" fill="#0c4a6e"/></svg>`;
            doc.addSvgAsImage(logoSvg, startX, startY, 25, 25);
            doc.setFont("helvetica", "bold"); doc.setFontSize(22); doc.setTextColor(0, 32, 74);
            doc.text("Assam University", startX + 35, startY + 10);
            doc.setFontSize(12); doc.setFont("helvetica", "normal"); doc.setTextColor(100, 100, 100);
            doc.text("Department of Law", startX + 35, startY + 18);
            doc.text("Provisional Marksheet (Internal Assessment)", startX + 35, startY + 25);
            
            // --- Student Info Table ---
            const studentFields = [
                ["Full Name", studentInfo.Name],
                ["Roll Number", studentInfo["Roll Number"]]
            ];
            doc.autoTable({
                startY: startY + 40,
                body: studentFields,
                theme: 'plain',
                styles: { fontSize: 11, cellPadding: 2 },
                columnStyles: { 0: { fontStyle: 'bold' } },
                margin: { left: startX }
            });

            // --- Main Results Table ---
            const tableBody = currentStudentResults.map(res => {
                const marks = parseInt(res["Marks"]?.trim(), 10);
                const { grade, remark } = getGradeAndRemark(marks);
                return [res.Subject, isNaN(marks) ? "N/A" : marks, grade, remark];
            });
            doc.autoTable({
                startY: doc.autoTable.previous.finalY + 5,
                head: [['Subject', 'Marks Obtained', 'Grade', 'Remarks']],
                body: tableBody,
                theme: 'grid',
                headStyles: { fillColor: [0, 32, 74] },
                styles: { fontSize: 10, cellPadding: 3 },
                // MODIFIED: Added columnStyles for alignment
                columnStyles: {
                    1: { halign: 'center' }, // Marks Obtained
                    2: { halign: 'center' }  // Grade
                },
                margin: { left: startX, right: margin }
            });

            // --- Totals and Percentage ---
            let totalMarks = 0;
            let maxMarks = 0;
            currentStudentResults.forEach(res => {
                const marks = parseInt(res.Marks?.trim(), 10);
                if (!isNaN(marks)) {
                    totalMarks += marks;
                    maxMarks += 100;
                }
            });
            const percentage = maxMarks > 0 ? ((totalMarks / maxMarks) * 100).toFixed(2) : 0;
            const overallResult = percentage >= 50 ? 'PASS' : 'FAIL';
            const summaryFields = [
                ['Total Marks', `${totalMarks} / ${maxMarks}`],
                ['Percentage', `${percentage}%`],
                ['Overall Result', overallResult]
            ];
            doc.autoTable({
                startY: doc.autoTable.previous.finalY,
                body: summaryFields,
                theme: 'grid',
                // MODIFIED: Switched to columnStyles for better alignment control
                columnStyles: {
                    0: { fontStyle: 'bold', halign: 'right', cellPadding: 3, fontSize: 11 },
                    1: { fontStyle: 'bold', halign: 'left', cellPadding: 3, fontSize: 11 }
                },
                margin: { left: startX, right: margin }
            });

            // --- Footer, QR, Signature ---
            let finalY = doc.autoTable.previous.finalY;
            const qrString = `Roll: ${studentInfo["Roll Number"]}, Name: ${studentInfo.Name}, Percentage: ${percentage}%`;
            const qr = qrcode(0, 'L');
            qr.addData(qrString);
            qr.make();
            const qrImgData = qr.createDataURL(4);
            doc.addImage(qrImgData, 'PNG', startX, finalY + 10, 35, 35);
            doc.setFontSize(10);
            doc.setTextColor(100, 100, 100);
            doc.text(`Date of Declaration: ${new Date().toLocaleDateString('en-IN', { timeZone: 'Asia/Kolkata' })}`, startX, finalY + 55);
            doc.text("This is a computer-generated document. No signature is required.", startX, finalY + 60);

            const signatureX = pageWidth - margin - 50;
            doc.setLineWidth(0.5);
            doc.line(signatureX, finalY + 45, signatureX + 45, finalY + 45);
            doc.text("Controller of Examinations", signatureX + 22.5, finalY + 50, {align: 'center'});

            doc.save(`${studentInfo["Roll Number"]}_Marksheet.pdf`);
        }
        
        // Helper functions
        function displayLoader() {
            document.getElementById("resultContainer").innerHTML = `<div class="flex flex-col items-center justify-center text-center p-4"><svg class="animate-spin h-8 w-8 text-blue-600 dark:text-blue-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="mt-3 text-lg font-semibold text-gray-700 dark:text-gray-300">Fetching Your Marksheet...</p><p class="text-sm text-gray-500 dark:text-gray-400">Please wait a moment.</p></div>`;
        }
        function displayMessage(icon, title, message, colorClasses) {
            document.getElementById("resultContainer").innerHTML = `<div class="rounded-lg p-4 ${colorClasses}"><div class="flex"><div class="flex-shrink-0 text-2xl">${icon}</div><div class="ml-3"><h3 class="text-sm font-bold">${title}</h3><div class="text-sm mt-1">${message}</div></div></div></div>`;
        }
        function clearForm() {
            document.getElementById("roll").value = "";
            document.getElementById("resultContainer").innerHTML = "";
            currentStudentResults = [];
        }

    </script>
</body>
</html>
